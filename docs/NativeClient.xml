<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" 
"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<article xmlns:xi="http://www.w3.org/2001/XInclude">
  <transform_var name="gold_product_name" value="Native Client"/>
  <transform_var name="distrib_pretty_name" value="Ubuntu 12.04 (Precise Pangolin)"/>
  <transform_var name="distrib_name" value="ubuntu" />
  <transform_var name="distrib_version" value="precise"/>
  <articleinfo>
    <title>Ulteo Open Virtual Desktop v@VERSION@</title>
    <subtitle>Native Client</subtitle>
    <graphic fileref="img/ovd.png" align="center"/>

    <copyright>
      <year>@YEAR@</year>
      <holder>Ulteo SAS - <ulink url="http://www.ulteo.com" /></holder>
    </copyright>
  </articleinfo>
  
  <xi:include href="common.xml" xpointer="gold" />
  
  <section id="intro">
    <title id="intro_title">Introduction</title>

    <para>
      This documentation describes the capabilities and use of the Ulteo OVD Native Clients.
    </para>
  </section>

  <section>
    <title>Prerequisites</title>

    <para>
      The OVD Native client can be installed on <trademark class="registered">Microsoft</trademark> <trademark>Windows</trademark> XP or newer.
    </para>
    <para>
      It can also be installed on @distrib_pretty_name@
    </para>
    <!--
      TBD What are the valid distributions for OVD 4?
    -->
            
    <xi:include href="common.xml" xpointer="system_requirements_client" />
  </section>
  
  <section id="installation_windows">
    <title id="installation_windows_title">Installation on <trademark class="registered">Microsoft</trademark> <trademark>Windows</trademark></title>
    
    <para>
      Download and execute the Ulteo OVD Native Client installer, <ulink url="http://www.ulteo.com/main/downloads/ulteo-ovd-nc.php?suite=@VERSION@">from here</ulink>
    </para>

    <para>
      <screenshot>
        <screeninfo>Native Client - Installation step 01</screeninfo>
        <graphic fileref="img/native/install01.png"></graphic>
      </screenshot>
    </para>

    <para>
      Select where you want to copy the client files
    </para>

    <para>
      <screenshot>
        <screeninfo>Native Client - Installation step 03</screeninfo>
        <graphic fileref="img/native/install03.png"></graphic>
      </screenshot>
    </para>

    <para>
      The client installation is finished. You can now launch a session.
    </para>

    <para>
      <screenshot>
        <screeninfo>Native Client - Installation step 04</screeninfo>
        <graphic fileref="img/native/install04.png"></graphic>
      </screenshot>
    </para>
  </section>
  
  <section id="installation_linux">
    <title id="installation_linux_title">Installation on @distrib_pretty_name@</title>
    <xi:include href="Installation_Gateway_Precise.xml" xpointer="repository_online" />
    <xi:include href="Installation_Gateway_Precise.xml" xpointer="repository_offline" />
    <xi:include href="Installation_Gateway_Precise.xml" xpointer="repository_common" />

    <section id="package_install">
      <title>Package Installation</title>
      <itemizedlist>
	<listitem>
          <para>
            Install the
            package <emphasis>ulteo-ovd-native-client</emphasis>:
          </para>
          <screen>
<![CDATA[# apt-get install ulteo-ovd-native-client]]>
          </screen>
	</listitem>
      </itemizedlist>
    </section>
  </section>
  
  <section id="userinterface">
    <title id="userinterface_title">User Interface</title>

    <para>
      When you start the Native Client, you have access to the login window that you will use to launch your session.
    </para>

    <para>
      <screenshot>
        <screeninfo>Native Client - Login window</screeninfo>
        <graphic fileref="img/native/authentication.png"></graphic>
      </screenshot>
    </para>

    <para>
      You just have to type your login and password, click the "Start!" button and voil√†!
    </para>

    <para>
      <screenshot>
        <screeninfo>Native Client - User session</screeninfo>
        <graphic fileref="img/native/started.png"></graphic>
      </screenshot>
    </para>
  </section>

  <section>
    <title>Advanced Settings</title>

    <para>
      In the login window, you can also set advanced parameters by clicking the 
      "More options ..." button.
    </para>

    <para>
      <screenshot>
        <screeninfo>Native Client - Advanced login window</screeninfo>
        <graphic fileref="img/native/more_options_auto.png"></graphic>
      </screenshot>
    </para>

    <para>
      The available options will be displayed, each one is described below.
    </para>

    <simplesect id="advanced_settings">
      <title>Advanced Settings Description</title>

      <itemizedlist>
        <listitem>
          <para>
            <emphasis>Use local credentials:</emphasis> When enabled, the Native Client will send a request to the Session Manager containing your current machine's credentials, using for example Kerberos or NTLM. When disabled, the Native Client will send a request to the Session Manager containing the login and password entered in the login window.
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis>Mode:</emphasis> This option allows you to pick which session mode you want to use.
            <itemizedlist>
              <listitem>
                <para>
                  <emphasis>Auto:</emphasis> The Session Manager will choose between a desktop session or an Application session based on the configuration .
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Application:</emphasis> Launch a window with a list of application available. Applications are launched seamlessly.
                </para>
              </listitem>
              <listitem>
                <para>
                  <emphasis>Desktop:</emphasis> Launch a full desktop with applications integrated inside it.
                </para>
              </listitem>
            </itemizedlist>
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis>Resolution:</emphasis> Choose which resolution will be used, it applies only on desktop sessions.
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis>Auto-publish shorcuts:</emphasis> Choose if you want to have shorcuts on your actual desktop at the session start. This option applies only when using the session mode set to "application".
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis>Language:</emphasis> This option allows you to pick which language your OVD session will use.
          </para>
        </listitem>
        <listitem>
          <para>
            <emphasis>Keyboard layout:</emphasis> This option allows you to select which keyboard layout your local keyboard is using.
          </para>
        </listitem>
      </itemizedlist>
    </simplesect>
  </section>

  <section>
    <title>Starting a Session</title>

    <para>
      When you start a session, a splash screen appears indicating that the session is loading.
    </para>

    <para>
      <screenshot>
        <screeninfo>Native Client - Session loading</screeninfo>
        <graphic fileref="img/native/loading.png"></graphic>
      </screenshot>
    </para>

    <para>
      Below you will find screenshots for both Desktop and Application mode.
    </para>

    <simplesect>
      <title>Desktop Session</title>

      <para>
        When the session is ready, your Desktop is available and you can launch applications, explore your files...
      </para>

      <para>
        <screenshot>
          <screeninfo>Native Client - Desktop session</screeninfo>
          <graphic fileref="img/native/desktop.png"></graphic>
        </screenshot>
      </para>
    </simplesect>

    <simplesect>
      <title>Application Session</title>

      <para>
        When the session is ready, your Application session is available and you can launch applications seamlessly.
      </para>

      <para>
        <screenshot>
          <screeninfo>Native Client - Application session</screeninfo>
          <graphic fileref="img/native/started.png"></graphic>
        </screenshot>
      </para>
      
      <para>
        You can launch applications by clicking on the arrow button. You can also choose to integrate the applications shorcuts to your desktop by clicking on <emphasis>Display icons</emphasis>.
      </para>
    </simplesect>
  </section>

  <section id="advanced_options">
    <title id="advanced_options_title">Advanced Features</title>

    <section id="config-file">
      <title>Default Configuration</title>

      <para>
        When the <emphasis>Remember me</emphasis> checkbox is enabled, the
        current configuration is saved in a configuration file. This
        file is named <emphasis>default.conf</emphasis> and uses the INI
        syntax.
      </para>
      <para>
        The directory used to store the configuration file depends on the system:
        <itemizedlist>
          <listitem>
            <para>On <trademark class="registered">Microsoft Windows</trademark> systems, it's <emphasis>Application Data\ulteo\ovd\client</emphasis></para>
          </listitem>
          <listitem>
            <para>On a Linux systems, it's <emphasis>~/.ulteo/ovd/client</emphasis></para>
          </listitem>
        </itemizedlist>
      </para>

      <para>
        Here is the INI tree that is used:
        <itemizedlist>
          <listitem>
            <para>Section <emphasis role="strong">server</emphasis></para>
            <itemizedlist id="config-file-server">
              <listitem>
                <para><emphasis role="strong">host</emphasis>, the server to connect to</para>
              </listitem>
              <listitem>
                <para><emphasis role="strong">port</emphasis>, the port to use if not default (443)</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Section <emphasis role="strong">user</emphasis></para>
            <itemizedlist id="config-file-user">
              <listitem>
                <para><emphasis role="strong">login</emphasis>, the login you want to use</para>
              </listitem>
              <listitem>
                <para>
                  <emphasis role="strong">use-local-credentials</emphasis>, Can be
                  <emphasis>true</emphasis> or
                  <emphasis>false</emphasis> (default).
                </para>
                <para>
                  When this option is used, the <emphasis>login</emphasis>
                  attribute is useless.
                </para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Section <emphasis role="strong">session</emphasis></para>
            <itemizedlist id="config-file-session">
              <listitem>
                <para><emphasis role="strong">language</emphasis>, using the IETF lang code</para>
              </listitem>

              <listitem>
                <para><emphasis role="strong">keymap</emphasis>, using the IETF lang code</para>
              </listitem>

              <listitem>
                <para>
                  <emphasis role="strong">mode</emphasis>, the session mode,
                  can be <emphasis>applications</emphasis>,
                  <emphasis>auto</emphasis> or <emphasis>desktop</emphasis>
                </para>
              </listitem>

              <listitem>
                <para>
                  <emphasis role="strong">show-progressbar</emphasis>, Can be
                  <emphasis>true</emphasis> (default) or
                  <emphasis>false</emphasis>.
                </para>
              </listitem>
            </itemizedlist>
          </listitem>
          
          <listitem>
            <para>Section <emphasis role="strong">publication</emphasis></para>
            <itemizedlist id="config-file-publication">
              <listitem>
                <para>
                  <emphasis role="strong">auto-publish</emphasis>, for
                  applications mode only, add the application shortcuts on
                  the Desktop and perform file associations. Can be
                  <emphasis>true</emphasis> (default) or
                  <emphasis>false</emphasis>.
                </para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para>Section <emphasis role="strong">screen</emphasis></para>
            <itemizedlist id="config-file-screen">
              <listitem>
                <para>
                  <emphasis role="strong">size</emphasis>, for desktop mode
                  only. Can be <emphasis>800x600</emphasis>,
                  <emphasis>1024x768</emphasis> (default),
                  <emphasis>1280x678</emphasis>,
                  <emphasis>maximized</emphasis> or
                  <emphasis>fullscreen</emphasis>
                </para>
              </listitem>
            </itemizedlist>
          </listitem>

         <listitem>
            <para>Section <emphasis role="strong">gui</emphasis></para>
            <itemizedlist id="config-file-gui">
              <listitem>
                <para>
                  <emphasis role="strong">locked-gui</emphasis>,
                  minimal interface with only login and password
                  fields
                </para>
              </listitem>
            </itemizedlist>
          </listitem>
        </itemizedlist>
      </para>

      <simplesect>
        <title><trademark class="registered">Microsoft Windows</trademark> Registry</title>
        
        <para>
          On <trademark class="registered">Microsoft Windows</trademark>
          systems, it's also possible to read the default configuration
          from the registry by use the option <emphasis>--reg</emphasis>
        </para>

        <para>
          The Native Client reads the HKEY_LOCAL_MACHINE first and then,
          the HKEY_CURRENT_USER tree. The path to the registry data is
          <emphasis>Software\Ulteo\OVD\NativeClient</emphasis>.
        </para>

        <itemizedlist>
          <xi:include xpointer="xpointer(//*[@id='config-file-server']/node())" />
          <xi:include xpointer="xpointer(//*[@id='config-file-user']/node())" />
          <xi:include xpointer="xpointer(//*[@id='config-file-session']/node())" />
          <xi:include xpointer="xpointer(//*[@id='config-file-publication']/node())" />
          <xi:include xpointer="xpointer(//*[@id='config-file-screen']/node())" />
          <xi:include xpointer="xpointer(//*[@id='config-file-gui']/node())" />
        </itemizedlist>
      </simplesect>
    </section>

    <section id="sso">
      <title>Single Sign-On</title>

      <para>
        On <trademark class="registered">Microsoft Windows</trademark>
        system, it's possible to perform SSO connection using the
        local credentials.
      </para>
      <para>
        To enable this feature, you have to check the "Use local
        creadential" checkbox or define it in the configuration (file
        or registry).
      </para>

      <important>
        <para>
          This feature requires server side configuration.
        </para>
        <para>
          You have to use an Apache authentication module (Kerberos or
          NTLM) and enable the "Apache auth module" in the
          Administration Console.
        </para>
      </important>
    </section>
  </section>
  <xi:include href="colophon.xml" />
</article>
