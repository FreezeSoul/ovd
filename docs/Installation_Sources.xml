<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
                 "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd"> 

<article xmlns:xi="http://www.w3.org/2001/XInclude">

  <articleinfo>
    <title>Installation documentation for the Ulteo Open Virtual Desktop from the sources</title>
    <graphic fileref="img/ovd.png" align="center"/>

    <copyright>
      <year>2009</year>
      <holder>Ulteo SAS - <ulink url="http://www.ulteo.com" /></holder>
    </copyright>
  </articleinfo>


  <section>
    <xi:include href="Installation.xml" xpointer="pre_title" />
    <xi:include href="Installation.xml" xpointer="prerequisites" />

    <section>
      <xi:include href="Installation.xml" xpointer="sql_title" />
      <xi:include href="Installation.xml" xpointer="mysql_install" />
      <xi:include href="Installation.xml" xpointer="mysql_db_create" />
 
      <beginpage />
    </section>
  </section>


  <section>
    <xi:include href="Installation.xml" xpointer="sm_title" />
    <xi:include href="Installation.xml" xpointer="sm_definition" />

    <para>
      All operations need to be done as
      <emphasis>superuser</emphasis> (root).
    </para>


   <section>
      <title>Dependencies</title>

      <itemizedlist>
        <listitem>
	  <para>
	    <emphasis role="strong">Autotools: </emphasis>autoconf
	    intltool make
	  </para>
        </listitem>
        <listitem>
	  <para>
	    <emphasis role="strong">PHP 5</emphasis> with modules curl
	    ldap mysql and gettext.
	  </para>
        </listitem>
       <listitem>
	  <para>
	    <emphasis role="strong">Apache 2</emphasis> with php
	    module enable.
	  </para>
        </listitem>

      </itemizedlist>
      <beginpage />
    </section>

   <section>
      <title>Installation</title>

      <itemizedlist>
	<listitem>
	  <para>
	    Download the Ulteo Open Virtual Desktop tarball from
	    <ulink url="http://www.ulteo.com" />
	  </para>
	</listitem>
	<listitem>
	  <para>
	    Uncompress the tarball and enter into the Session Manager
	    directory
	  </para>
	  <screen>
	    <![CDATA[
$ tar xzf ulteo-ovd.tar.gz
$ cd ulteo-ovd
$ tar xzf sessionmanager.tar.gz
$ cd sessionmanager]]>
	  </screen>
	</listitem>

	<listitem>
	  <para>
	    Install the system
	  </para>
	  <screen>
	    <![CDATA[
./configure && make && make install]]>
	  </screen>
	</listitem>
	<listitem>
	  <para>
	    Add <filename>/usr/local/bin</filename> to the PATH
	  </para>
	  <screen>
	    <![CDATA[
export PATH=$PATH:/usr/local/bin]]>
	  </screen>
	</listitem>

	<xi:include href="Installation_RedHat.xml" xpointer="sm_install_sm_config" />

	<listitem>
	  <para>
	    Restart apache
	  </para>
	  <screen>
	    <![CDATA[
apache2ctl restart]]>
	  </screen>
        </listitem>
      </itemizedlist>

    <xi:include href="Installation.xml" xpointer="sm_install_browse" />
    <xi:include href="Installation.xml" xpointer="sm_install_browse_pic" />

	<para>
	If you get an empty page and see an error about mb_internal_encoding() in the Apache log,
comment line:<screen>
	    <![CDATA[
mb_internal_encoding('UTF-8');]]></screen>
in /usr/local/share/ulteo/sessionmanager/includes/core.inc.php and /usr/local/share/ulteo/sessionmanager/includes/core-minimal.inc.php.
	</para>
    </section>

  <xi:include href="Installation.xml" xpointer="sessionmanager_configuration" />
</section>

<section id="aps">
  <xi:include href="Installation.xml" xpointer="aps_title" />

  <para>
    All operations need to be done as <emphasis>superuser</emphasis>
    (root).
  </para>

  <section>
    <title>Dependencies</title>

    <itemizedlist>
      <listitem>
	<para>
	  <emphasis role="strong">Autotools: </emphasis>autoconf
	  intltool make
	</para>
      </listitem>
      <listitem>
	<para>
	  <emphasis role="strong">PHP 5</emphasis> with modules curl
	  imagick.
	</para>
      </listitem>
      <listitem>
	<para>
	  <emphasis role="strong">Apache 2</emphasis> with php
	  module enable.
	</para>
      </listitem>
    </itemizedlist>
  </section>

  <section>
    <title>Installation</title>

    <itemizedlist>
      <listitem>
	  <para>
	    Download the Ulteo Open Virtual Desktop tarball from
	    <ulink url="http://www.ulteo.com" />
	  </para>
	</listitem>
	<listitem>
	  <para>
	    Uncompress the tarball and enter into the Application
	    server directory
	    <ulink url="http://www.ulteo.com" />
	  </para>
	  <screen>
	    <![CDATA[
$ tar xzf ulteo-ovd.tar.gz
$ cd ulteo-ovd
$ tar xzf applciationserver.tar.gz
$ cd applicationserver]]>
	  </screen>
	</listitem>

	<listitem>
	  <para>
	    Install the system
	  </para>
	  <screen>
	    <![CDATA[
# ./configure && make && make install]]>
	  </screen>
	</listitem>
	<listitem>
	  <para>
	    Add <filename>/usr/local/bin</filename> to the PATH
	  </para>
	  <screen>
	    <![CDATA[
export PATH=$PATH:/usr/local/bin]]>
	  </screen>
	</listitem>

	<xi:include href="Installation_RedHat.xml" xpointer="aps_install_aps_chroot_install" />

	<listitem>
	  <para>
	    Then start the OVD daemon in the chroot:
	  </para>
	  <screen>
	    <![CDATA[
chroot /opt /etc/init.d/ulteo-ovdd start]]>
	  </screen>
        </listitem>
      </itemizedlist>
      <beginpage />
    </section>
    <xi:include href="Installation.xml" xpointer="aps_manage_sm" />
</section>

<xi:include href="Installation.xml" xpointer="publication" />
<xi:include href="Installation.xml" xpointer="launch_session" />

</article>
